) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab()
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("")
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab(NA)
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("")
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region")
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom")
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank(),
legend.direction = "horizontal")
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank(),
legend.direction = "vertical")
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = rev(`WHO region`)),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank(),
rev(legend))
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
X
plot2dat<- X %>%
select(-c(3:4)) %>%
select(-c(3:4)
)
plot2dat<- X %>%
select(-c(3:4))
View(plot2dat)
plot2dat<- X %>%
select(-c(3:5))
View(plot2dat)
#quick setup
X<-fread("measlesByCountry2019.csv")
X<-setDF(X)
X<-X[,-c(1:2,9:11)]
#data wrangling
plot1dat<-X %>%
filter(Year == 2019) %>%
group_by(`WHO region`) %>%
mutate(SumVal = sum(Numeric)) %>%
distinct(`WHO region`, SumVal) %>%
arrange(SumVal)
#plotting
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
#quick setup
X<-fread("measlesByCountry2019.csv")
X<-setDF(X)
X<-X[,-c(1:2,9:11)]
#quick setup
X<-fread("measlesByCountry2019.csv")
X<-setDF(X)
X<-X[,-c(1:2,9:11)]
X$`WHO region` <- factor(X$`WHO region`)
#data wrangling
plot1dat<-X %>%
filter(Year == 2019) %>%
group_by(`WHO region`) %>%
mutate(SumVal = sum(Numeric)) %>%
distinct(`WHO region`, SumVal) %>%
arrange(SumVal)
#plotting
plot1dat %>%
ggplot(data = plot1dat,
mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot2dat<- X %>%
select(-c(3:5))
View(plot2dat)
plot2dat<- X %>%
select(-c(3:5)) %>%
str(plot2dat)
plot2dat
plot2dat<- X %>%
select(-c(3:5))
plot2dat
plot2dat<- X %>%
select(-c(3:5)) %>%
group_by(Year, `WHO region`) %>%
mutate(SumVal = sum(Numeric))
View(plot2dat)
plot2dat<- X %>%
select(-c(3:5)) %>%
group_by(Year, `WHO region`) %>%
mutate(SumVal = sum(Numeric)) %>%
select(-Numeric)
View(plot2dat)
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar)) %>%
geom_line()
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar)) +
geom_line()
plot2dat<- X %>%
select(-c(3:5)) %>%
group_by(Year, `WHO region`) %>%
mutate(SumVar = sum(Numeric)) %>%
select(-Numeric)
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar)) +
geom_line()
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar)) +
geom_line(colour = `WHO region`)
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar)) +
geom_line(aes(colour = `WHO region`))
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/100)) +
geom_line(aes(colour = `WHO region`))
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`))
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/10000)) +
geom_line(aes(colour = `WHO region`))
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/10000)) +
geom_line(aes(colour = `WHO region`)) +
xlim(1980,2020)
plot2dat<- X %>%
select(-c(3:5)) %>%
group_by(Year, `WHO region`) %>%
mutate(SumVar = sum(Numeric)) %>%
filter(Year >= 1980) %>%
select(-Numeric)
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/10000)) +
geom_line(aes(colour = `WHO region`)) +
xlim(1980,2020)
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`))
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`)) +
ylab("") +
ggtitle("Trends over time in the number of measles cases, by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`), width = 1) +
ylab("") +
ggtitle("Trends over time in the number of measles cases, by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`),
size = 1) +
ylab("") +
ggtitle("Trends over time in the number of measles cases, by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`),
size = 2) +
ylab("") +
ggtitle("Trends over time in the number of measles cases, by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
plot2dat %>%
ggplot(mapping = aes(x = Year,
y = SumVar/1000)) +
geom_line(aes(colour = `WHO region`),
size = 1) +
ylab("") +
ggtitle("Trends over time in the number of measles cases, by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
#plotting
plot1dat %>%
ggplot(mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`,
size = 1),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
#plotting
plot1dat %>%
ggplot(mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`,
size = 0.5),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
#plotting
plot1dat %>%
ggplot(mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`,
size = 0.1),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
#plotting
plot1dat %>%
ggplot(mapping = aes(x = reorder(`WHO region`, SumVal),
y = SumVal/1000),
) +
geom_bar(stat="identity",
aes(colour = `WHO region`),
fill = rgb(0.54,0.81,0.94, 0.5)
) +
coord_flip() +
scale_color_brewer(palette = "Set2") +
ylab("Number of cases in Thousands") +
xlab("") +
ggtitle("Cases of measles in 2019 by WHO Region") +
theme(legend.position="bottom",
legend.title = element_blank())
(-28)^(1/3)
(28)^(1/3)
0.5 + (7/16)
log10(-10+1)
sqrt(2)
-10/10
sqrt(0)
rm(list=ls())
#setwd to current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
#source other R-Files needed
source("packages.R")
#import data and make it a data.frame
X<-fread("..//data//train.csv")
X<-setDF(X)
class(X)
# Inspection --------------------------------------------------------------
#general overview
names(X)
summary(X)
sapply(X, typeof)
glimpse(X)
dim(X) #103904, 25
#delete rows that are not of use.
X<-subset(X, select = -c(V1, id))
#check for balance of the criterion
table(X$satisfaction)
prop.table(table(X$satisfaction)) #No upsampling/downsampling required
#detect NAs
sapply(X, function(x) sum(is.null(x)))
sapply(X, function(x) sum(is.na(x))) #Arrival Delay in Minutes:310
#Is there a systematic relationship between NAs and criterion?
with(X, table(is.na(`Arrival Delay in Minutes`), satisfaction))[2,]
# 310 missing values - Are they all from the same flight?
onlyna<-X[which(is.na(X$`Arrival Delay in Minutes`)),]
max(table(onlyna$`Flight Distance`)) #No
#proportion of NAs in the dataset
with(X, prop.table(table(is.na(`Arrival Delay in Minutes`))))
#drop NA
X<-na.omit(X)
#delete variables which are no longer of use
rm(onlyna)
#make barplots for ordinal and nominal variables
for (i in c(1:2, 4:5, 7:20)) {
ggbarplot<-ggplot(X, aes(x = X[,i])) +
geom_bar() +
facet_wrap(~satisfaction) +
ggtitle(paste(names(X)[i])) +
xlab("") +
theme(axis.text.x = element_text(angle = 90))
ggsave(paste0("..//plots//plot",i,".jpg"),ggbarplot)
}
#make histograms for intervall variables
for (i in c(3, 6, 21:22)) {
gghistogram<-ggplot(X, aes(x = X[,i])) +
geom_histogram() +
facet_wrap(~satisfaction) +
ggtitle(paste(names(X)[i])) +
xlab("") +
theme(axis.text.x = element_text(angle = 90))
ggsave(paste0("..//plots//plot",i,".jpg"),gghistogram)
}
#delete variables which are no longer of use
rm(ggbarplot, gghistogram, i)
